automation:
  - alias: Volume harder
    description: ''
    trigger:
    - entity_id: sensor.volumeknop_action
      platform: state
      to: 'rotate_right'
    condition:
      - condition: template
        value_template: "{{ state_attr('remote.woonkamer', 'current_activity') != 'off' }}"
    action:
     - service: remote.send_command
       data:
         entity_id: remote.woonkamer
         command: VolumeUp
         num_repeats: 3
         device: 'ONKYO'

  - alias: Volume zachter
    description: ''
    trigger:
    - entity_id: sensor.volumeknop_action
      platform: state
      to: 'rotate_left'
    condition:
      - condition: template
        value_template: "{{ state_attr('remote.woonkamer', 'current_activity') != 'off' }}"
    action:
     - service: remote.send_command
       data:
         entity_id: remote.woonkamer
         command: VolumeDown
         num_repeats: 3
         device: 'ONKYO'

  - alias: Pause
    description: ''
    trigger:
    - platform: mqtt
      topic: 'zigbee2mqtt/volumeknop/action'
    condition:
      - condition: template
        value_template: '{{ "play_pause" == trigger.payload }}'
      - condition: template
        value_template: "{{ state_attr('remote.woonkamer', 'current_activity') != 'off' }}"
    action:
      - service: remote.send_command
        data:
          entity_id: remote.woonkamer
          command: Pause
          device: 'HTPC'
